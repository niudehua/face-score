<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/favicon.png" type="image/png">
  <title>å›¾ç‰‡åˆ—è¡¨ - é¢œå€¼æ‰“åˆ†æœº ğŸ˜»</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <div class="container image-grid-container">
    <div class="header-row">
      <h1>å›¾ç‰‡åˆ—è¡¨ ğŸ“¸</h1>
      <div style="display: flex; align-items: center; gap: 15px;">
        <span id="username-display" style="color: var(--text-secondary); font-weight: 500;"></span>
        <button id="logout-btn" class="secondary-btn"
          style="margin:0; padding: 8px 16px; width: auto; font-size: 0.9rem;">é€€å‡ºç™»å½•</button>
      </div>
    </div>

    <!-- å›ºå®šåœ¨é¡¶éƒ¨çš„ç­›é€‰å’Œæ“ä½œæ  -->
    <div class="filter-bar">
      <!-- ç­›é€‰å’Œæ’åº -->
      <div class="filter-controls">
        <div class="filter-group">
          <label for="date-from">æ—¥æœŸèŒƒå›´:</label>
          <input type="date" id="date-from" />
          <span style="color:var(--text-secondary)">-</span>
          <input type="date" id="date-to" />
        </div>

        <div class="filter-group">
          <label for="sort-by">æ’åº:</label>
          <select id="sort-by">
            <option value="timestamp">æ—¶é—´</option>
            <option value="score">é¢œå€¼</option>
          </select>
          <select id="order">
            <option value="desc">é™åº</option>
            <option value="asc">å‡åº</option>
          </select>
        </div>


        <div class="filter-group" style="margin-left: auto;">
          <button id="apply-filter" style="width: auto; padding: 8px 16px; font-size: 0.9rem;">ç­›é€‰</button>
          <button id="reset-filter" class="secondary-btn"
            style="width: auto; padding: 8px 16px; margin: 0; font-size: 0.9rem;">é‡ç½®</button>
        </div>
      </div>

      <!-- æ‰¹é‡æ“ä½œæ  -->
      <div class="batch-actions">
        <div style="display: flex; align-items: center; gap: 10px;">
          <button id="batch-delete" class="danger-btn"
            style="width: auto; padding: 8px 16px; font-size: 0.9rem;">æ‰¹é‡åˆ é™¤</button>
          <button id="confirm-selection"
            style="background: var(--primary-color); display: none; width: auto; padding: 8px 16px; font-size: 0.9rem;">ç¡®è®¤åˆ é™¤</button>
          <button id="cancel-delete" class="secondary-btn"
            style="display: none; width: auto; padding: 8px 16px; margin: 0; font-size: 0.9rem;">å–æ¶ˆ</button>
        </div>
        <div id="total-count" style="color: var(--text-secondary); font-weight: 500; font-size: 0.9rem;"></div>
      </div>
    </div>

    <!-- å›¾ç‰‡ç½‘æ ¼ -->
    <div id="image-grid" class="image-grid"></div>

    <!-- åŠ è½½çŠ¶æ€ -->
    <div id="loading" style="text-align: center; padding: 40px; display: none;">
      <div
        style="display: inline-block; width: 30px; height: 30px; border: 3px solid #f3f3f3; border-top: 3px solid var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite;">
      </div>
      <p style="color: var(--text-secondary); margin-top: 10px;">åŠ è½½ä¸­...</p>
    </div>

    <!-- ç©ºçŠ¶æ€ -->
    <div id="empty" style="text-align: center; padding: 60px 20px; color: var(--text-secondary); display: none;">
      <div style="font-size: 48px; margin-bottom: 10px; opacity: 0.5;">ğŸ“·</div>
      <p>æš‚æ— å›¾ç‰‡è®°å½•</p>
    </div>

    <!-- åŠ è½½æ›´å¤šæç¤º -->
    <div id="load-more-trigger" style="height: 20px; width: 100%;"></div>
    <div id="load-more-status" style="text-align: center; padding: 20px; color: var(--text-secondary); display: none;">
      <div
        style="display: inline-block; width: 24px; height: 24px; border: 2px solid #f3f3f3; border-top: 2px solid var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; vertical-align: middle; margin-right: 8px;">
      </div>
      <span>æ­£åœ¨åŠ è½½æ›´å¤š...</span>
    </div>
    <div id="no-more-data"
      style="text-align: center; padding: 30px; color: var(--text-secondary); font-size: 0.9rem; display: none;">
      âœ¨ å·²ç»åˆ°åº•å•¦ï¼Œå–µï½
    </div>

    <!-- è¿”å›é¦–é¡µ -->
    <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #f3f4f6;">
      <a href="/" style="color: var(--primary-color); text-decoration: none; font-weight: 600; font-size: 0.9rem;">â†
        è¿”å›é¦–é¡µæ‰“åˆ†</a>
    </div>
  </div>

  <script src="/images.js"></script>
  <script>
    // Simple spin animation injection if not present (though style.css handles most)
    // style.css doesn't have @keyframes spin if I didn't add it.
    // I should add it to style.css or here.
    // Wait, inline styles above use 'animation: spin'.
  </script>
  <style>
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</body>

</html>