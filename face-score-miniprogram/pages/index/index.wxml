<view class="container">
  <!-- 标题区域 -->
  <image class="app-logo" src="/images/logo.png" mode="aspectFit"></image>
  <h1>颜究所</h1>
  <p>上传照片，获取您的面部气质分析报告</p>

  <!-- 模式切换 -->
  <view class="mode-selector">
    <view class="mode-item {{mode === 'score' ? 'active' : ''}}" bindtap="switchMode" data-mode="score">
      颜值评分
    </view>
    <view class="mode-item {{mode === 'fortune' ? 'active' : ''}}" bindtap="switchMode" data-mode="fortune">
      气质解读
    </view>
  </view>

  <!-- 预览区域 -->
  <view class="preview-container" wx:if="{{previewShow}}">
    <image id="preview" class="show" src="{{previewUrl}}" mode="aspectFit"></image>
    <button class="clear-preview-btn" bindtap="clearPreview">×</button>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:else>
    <view class="empty-state-icon">{{mode === 'score' ? '📷' : '✨'}}</view>
    <view class="empty-state-text">{{mode === 'score' ? '请选择一张照片' : '请上传清晰面部照片\n生成气质分析报告'}}</view>
  </view>

  <!-- 操作按钮区域 -->
  <view class="buttons-container">
    <button bindtap="chooseImage" class="{{previewShow ? 'secondary-button' : ''}}">
      {{previewShow ? '重新选择' : '选择照片'}}
    </button>
    <button bindtap="submitScore" disabled="{{submitting}}" class="primary-button">
      {{submitting ? '分析中...' : '生成分析报告'}}
    </button>
  </view>

  <!-- 加载状态 -->
  <view class="loading-container" wx:if="{{submitting}}">
    <view class="loading-spinner"></view>
    <view class="loading-text">正在分析面部特征...</view>
  </view>

  <!-- 结果显示区域 -->
  <view wx:if="{{result && !submitting}}" class="result-card">
    <view class="result-title">评分结果</view>
    <view class="result-content" id="result">{{result}}</view>
    
    <!-- 操作按钮 -->
    <view class="action-buttons">
      <button class="action-button" bindtap="shareResult">分享结果</button>
      <button class="action-button primary" bindtap="saveResult">保存图片</button>
    </view>
  </view>
</view>